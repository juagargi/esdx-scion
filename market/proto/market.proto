syntax = "proto3";

package market;

import "google/protobuf/timestamp.proto";


// TODO(juagargi) the data types used allow easy integration with the ones from Django.
// Despite this, we need to change them here to be more adequate. E.g. change
// Offer.bw_profile from a string to a repeated int32


service MarketController {
    rpc ListOffers(ListRequest) returns (Offer) {}
}

message ListRequest {}

message Offer {
    int64 iaid = 1; // ISD-AS ID of the seller
    bool iscore = 2;
    bytes signature = 3;
    google.protobuf.Timestamp notbefore  = 4;
    google.protobuf.Timestamp notafter  = 5;
    string reachable_paths = 6;
    int32 qos_class = 7;
    string bw_profile = 8;  // list of bw_units per period
    int32 price_per_nanounit = 9;
}
